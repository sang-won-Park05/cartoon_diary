{% extends 'entry/base_subpage.html' %}
{% block title %}í™˜ê²½ì„¤ì •{% endblock %}
{% block content %}
<section class="profile-section">
    <h1 class="section-title">âš™ï¸ í™˜ê²½ì„¤ì •</h1>
    <div class="info-group">
        <h2>í…Œë§ˆ ì„ íƒ</h2>
        <select id="theme-select" class="form-select">
            <option value="classic">ê¸°ë³¸</option>
            <option value="light">ë¼ì´íŠ¸</option>
            <option value="dark">ë‹¤í¬</option>
        </select>
    </div>
    <div class="info-group">
        <h2>ì–¸ì–´ ì„ íƒ</h2>
        <select id="language-select" class="form-select"><option value="ko">í•œêµ­ì–´</option><option value="en">English</option></select>
    </div>
    <div class="info-group">
        <div class="info-header" style="border:none;">
            <h2>ì•Œë¦¼ ë°›ê¸°</h2>
            <label class="switch"><input type="checkbox" id="notification-toggle" checked><span class="slider round"></span></label>
        </div>
    </div>
    <div style="display: flex; justify-content: flex-end; margin-top: 2rem;">
        <button id="save-settings-btn" class="btn-submit" style="width: auto; padding: 0.75rem 1.5rem;">ë³€ê²½ì‚¬í•­ ì €ì¥</button>
    </div>
</section>

<script>
document.addEventListener('DOMContentLoaded', function() {
    const themeSelect = document.getElementById('theme-select');
    const languageSelect = document.getElementById('language-select');
    const notificationToggle = document.getElementById('notification-toggle');
    const saveSettingsBtn = document.getElementById('save-settings-btn');

    // ğŸ‘‡ğŸ‘‡ğŸ‘‡ 'ì €ì¥' ë²„íŠ¼ í´ë¦­ ì‹œ, í…Œë§ˆë¥¼ ì¦‰ì‹œ htmlì— ì ìš©í•˜ëŠ” ë¡œì§ ì¶”ê°€ ğŸ‘‡ğŸ‘‡ğŸ‘‡
    saveSettingsBtn.addEventListener('click', function() {
        const theme = themeSelect.value;
        localStorage.setItem('theme', theme);
        localStorage.setItem('language', languageSelect.value);
        localStorage.setItem('notifications', notificationToggle.checked);

        // 1. html íƒœê·¸ì—ì„œ 'dark'ì™€ 'classic' í´ë˜ìŠ¤ë¥¼ ëª¨ë‘ ì œê±°
        document.documentElement.classList.remove('dark', 'classic');
        
        // 2. ì„ íƒí•œ í…Œë§ˆì— ë§ëŠ” í´ë˜ìŠ¤ë§Œ ì¶”ê°€
        if (theme === 'dark') {
            document.documentElement.classList.add('dark');
        } else if (theme === 'classic') {
            document.documentElement.classList.add('classic');
        }
        // 'light' í…Œë§ˆëŠ” ì•„ë¬´ í´ë˜ìŠ¤ë„ ì¶”ê°€í•˜ì§€ ì•Šìœ¼ë©´ ë©ë‹ˆë‹¤.

        alert('ì„¤ì •ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
    });

    // í˜ì´ì§€ ë¡œë“œ ì‹œ ì €ì¥ëœ ì„¤ì • ë¶ˆëŸ¬ì˜¤ê¸° (ê¸°ì¡´ê³¼ ë™ì¼)
    (function loadSettings() {
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme) themeSelect.value = savedTheme;
        const savedLang = localStorage.getItem('language');
        if (savedLang) languageSelect.value = savedLang;
        const savedNotif = localStorage.getItem('notifications');
        if (savedNotif !== null) notificationToggle.checked = savedNotif === 'true';
    })();
});
</script>
{% endblock %}